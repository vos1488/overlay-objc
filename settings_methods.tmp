// –ú–µ—Ç–æ–¥—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∫–ª–∞–¥–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫

- (void)setupDisplaySettings:(NSView *)view {
    CGFloat yPos = 420;
    CGFloat spacing = 40;
    
    // –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏
    NSTextField *sectionTitle = [[NSTextField alloc] initWithFrame:NSMakeRect(20, yPos, 400, 25)];
    [sectionTitle setStringValue:@"–í–Ω–µ—à–Ω–∏–π –≤–∏–¥"];
    [sectionTitle setBezeled:NO];
    [sectionTitle setDrawsBackground:NO];
    [sectionTitle setEditable:NO];
    [sectionTitle setSelectable:NO];
    [sectionTitle setFont:[NSFont boldSystemFontOfSize:16]];
    [view addSubview:sectionTitle];
    yPos -= spacing;
    
    // –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º
    NSButton *compactModeButton = [[NSButton alloc] initWithFrame:NSMakeRect(20, yPos, 200, 25)];
    [compactModeButton setButtonType:NSButtonTypeSwitch];
    [compactModeButton setTitle:@"–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º"];
    [compactModeButton setState:self.isCompactMode ? NSControlStateValueOn : NSControlStateValueOff];
    [compactModeButton setTag:1001];
    [view addSubview:compactModeButton];
    yPos -= spacing;
    
    // –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
    NSButton *darkThemeButton = [[NSButton alloc] initWithFrame:NSMakeRect(20, yPos, 200, 25)];
    [darkThemeButton setButtonType:NSButtonTypeSwitch];
    [darkThemeButton setTitle:@"–¢–µ–º–Ω–∞—è —Ç–µ–º–∞"];
    [darkThemeButton setState:self.isDarkTheme ? NSControlStateValueOn : NSControlStateValueOff];
    [darkThemeButton setTag:1002];
    [view addSubview:darkThemeButton];
    yPos -= spacing;
    
    // –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
    NSTextField *opacityLabel = [[NSTextField alloc] initWithFrame:NSMakeRect(20, yPos + 5, 150, 20)];
    [opacityLabel setStringValue:@"–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:"];
    [opacityLabel setBezeled:NO];
    [opacityLabel setDrawsBackground:NO];
    [opacityLabel setEditable:NO];
    [view addSubview:opacityLabel];
    
    NSSlider *opacitySlider = [[NSSlider alloc] initWithFrame:NSMakeRect(180, yPos, 200, 25)];
    [opacitySlider setMinValue:0.01];
    [opacitySlider setMaxValue:1.0];
    [opacitySlider setDoubleValue:self.opacity];
    [opacitySlider setTag:2001];
    [view addSubview:opacitySlider];
    
    NSTextField *opacityValue = [[NSTextField alloc] initWithFrame:NSMakeRect(390, yPos + 3, 50, 20)];
    [opacityValue setStringValue:[NSString stringWithFormat:@"%.0f%%", self.opacity * 100]];
    [opacityValue setBezeled:NO];
    [opacityValue setDrawsBackground:NO];
    [opacityValue setEditable:NO];
    [opacityValue setTag:3001];
    [view addSubview:opacityValue];
}

- (void)setupSystemSettings:(NSView *)view {
    CGFloat yPos = 420;
    CGFloat spacing = 40;
    
    NSTextField *sectionTitle = [[NSTextField alloc] initWithFrame:NSMakeRect(20, yPos, 400, 25)];
    [sectionTitle setStringValue:@"–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"];
    [sectionTitle setBezeled:NO];
    [sectionTitle setDrawsBackground:NO];
    [sectionTitle setEditable:NO];
    [sectionTitle setFont:[NSFont boldSystemFontOfSize:16]];
    [view addSubview:sectionTitle];
    yPos -= spacing;
    
    NSButton *networkInfoButton = [[NSButton alloc] initWithFrame:NSMakeRect(20, yPos, 250, 25)];
    [networkInfoButton setButtonType:NSButtonTypeSwitch];
    [networkInfoButton setTitle:@"–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–µ—Ç–µ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é"];
    [networkInfoButton setState:self.showNetworkInfo ? NSControlStateValueOn : NSControlStateValueOff];
    [networkInfoButton setTag:1004];
    [view addSubview:networkInfoButton];
    yPos -= spacing;
    
    NSButton *systemInfoButton = [[NSButton alloc] initWithFrame:NSMakeRect(20, yPos, 250, 25)];
    [systemInfoButton setButtonType:NSButtonTypeSwitch];
    [systemInfoButton setTitle:@"–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é"];
    [systemInfoButton setState:self.showSystemInfo ? NSControlStateValueOn : NSControlStateValueOff];
    [systemInfoButton setTag:1005];
    [view addSubview:systemInfoButton];
}

- (void)setupTimeSettings:(NSView *)view {
    CGFloat yPos = 420;
    CGFloat spacing = 40;
    
    NSTextField *sectionTitle = [[NSTextField alloc] initWithFrame:NSMakeRect(20, yPos, 400, 25)];
    [sectionTitle setStringValue:@"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∏"];
    [sectionTitle setBezeled:NO];
    [sectionTitle setDrawsBackground:NO];
    [sectionTitle setEditable:NO];
    [sectionTitle setFont:[NSFont boldSystemFontOfSize:16]];
    [view addSubview:sectionTitle];
    yPos -= spacing;
    
    NSButton *timeFormatButton = [[NSButton alloc] initWithFrame:NSMakeRect(20, yPos, 200, 25)];
    [timeFormatButton setButtonType:NSButtonTypeSwitch];
    [timeFormatButton setTitle:@"24-—á–∞—Å–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç"];
    [timeFormatButton setState:self.is24HourFormat ? NSControlStateValueOn : NSControlStateValueOff];
    [timeFormatButton setTag:1006];
    [view addSubview:timeFormatButton];
    yPos -= spacing;
    
    NSButton *showSecondsButton = [[NSButton alloc] initWithFrame:NSMakeRect(20, yPos, 200, 25)];
    [showSecondsButton setButtonType:NSButtonTypeSwitch];
    [showSecondsButton setTitle:@"–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–µ–∫—É–Ω–¥—ã"];
    [showSecondsButton setState:self.showSeconds ? NSControlStateValueOn : NSControlStateValueOff];
    [showSecondsButton setTag:1007];
    [view addSubview:showSecondsButton];
}

- (void)setupAdvancedSettings:(NSView *)view {
    CGFloat yPos = 420;
    CGFloat spacing = 40;
    
    NSTextField *sectionTitle = [[NSTextField alloc] initWithFrame:NSMakeRect(20, yPos, 400, 25)];
    [sectionTitle setStringValue:@"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ"];
    [sectionTitle setBezeled:NO];
    [sectionTitle setDrawsBackground:NO];
    [sectionTitle setEditable:NO];
    [sectionTitle setFont:[NSFont boldSystemFontOfSize:16]];
    [view addSubview:sectionTitle];
    yPos -= spacing;
    
    NSButton *exportButton = [[NSButton alloc] initWithFrame:NSMakeRect(20, yPos, 120, 30)];
    [exportButton setTitle:@"üì§ –≠–∫—Å–ø–æ—Ä—Ç"];
    [exportButton setTarget:self];
    [exportButton setAction:@selector(exportSettings)];
    [view addSubview:exportButton];
    
    NSButton *importButton = [[NSButton alloc] initWithFrame:NSMakeRect(150, yPos, 120, 30)];
    [importButton setTitle:@"üì• –ò–º–ø–æ—Ä—Ç"];
    [importButton setTarget:self];
    [importButton setAction:@selector(importSettings)];
    [view addSubview:importButton];
    yPos -= spacing + 10;
    
    NSTextField *versionInfo = [[NSTextField alloc] initWithFrame:NSMakeRect(20, yPos, 400, 20)];
    [versionInfo setStringValue:@"Overlay v1.0.3 - ¬© 2025 vos9.su"];
    [versionInfo setBezeled:NO];
    [versionInfo setDrawsBackground:NO];
    [versionInfo setEditable:NO];
    [versionInfo setFont:[NSFont systemFontOfSize:12]];
    [view addSubview:versionInfo];
}
